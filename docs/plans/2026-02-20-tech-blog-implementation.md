# Tech Blog Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Create a Hugo blog with the Terminal theme, Projects section, About page, tags taxonomy, and GitHub Actions deployment to GitHub Pages.

**Architecture:** Hugo static site using Hugo Modules to import the Terminal theme v4. Custom layout override for the Projects section. GitHub Actions CI/CD deploys on push to main.

**Tech Stack:** Hugo Extended (v0.156.0+), Go (1.18+), Terminal theme v4 (Hugo Module), GitHub Actions, GitHub Pages

---

### Task 1: Install Hugo Extended

**Files:**
- None (system install)

**Step 1: Install Hugo Extended via snap**

Run:
```bash
sudo snap install hugo
```

**Step 2: Verify Hugo Extended is installed**

Run: `hugo version`
Expected: Output contains `extended` and version >= 0.90.0

**Step 3: Verify Go is installed**

Run: `go version`
Expected: Go >= 1.18. If not installed, run `sudo apt install golang-go` or install from https://go.dev/dl/

---

### Task 2: Scaffold Hugo Site

**Files:**
- Create: `config.toml` (generated by hugo, then replaced)
- Create: `archetypes/default.md`
- Create: `content/` directory
- Create: `layouts/` directory
- Create: `static/` directory

**Step 1: Create the Hugo site in the current directory**

Run (from `/home/mark/Projects/tech-blog`):
```bash
hugo new site . --force --format toml
```

The `--force` flag is needed because the directory already has files (git repo, docs/).

**Step 2: Verify the scaffold**

Run: `ls -la`
Expected: `archetypes/`, `assets/`, `content/`, `data/`, `i18n/`, `layouts/`, `static/`, `themes/`, `config.toml`

**Step 3: Commit scaffold**

```bash
git add archetypes config.toml
git commit -m "feat: scaffold Hugo site"
```

Note: Only commit files that exist. Hugo may create empty directories that git won't track.

---

### Task 3: Set Up Terminal Theme via Hugo Module

**Files:**
- Create: `go.mod`
- Create: `go.sum`
- Modify: `config.toml`

**Step 1: Initialize Hugo module**

Run:
```bash
hugo mod init github.com/mark/tech-blog
```

Expected: Creates `go.mod` with `module github.com/mark/tech-blog`

**Step 2: Fetch Terminal theme v4**

Run:
```bash
hugo mod get github.com/panr/hugo-theme-terminal/v4
```

Expected: Updates `go.mod` with require line, creates `go.sum`

**Step 3: Tidy modules**

Run:
```bash
hugo mod tidy
```

**Step 4: Replace config.toml with full configuration**

Replace the contents of `config.toml` with:

```toml
baseurl = "/"
languageCode = "en-us"
pagination.pagerSize = 5

[module]
[[module.imports]]
  path = "github.com/panr/hugo-theme-terminal/v4"

[taxonomies]
  tag = "tags"

[markup.highlight]
  noClasses = false

[params]
  contentTypeName = "posts"
  showMenuItems = 3
  fullWidthTheme = false
  centerTheme = false
  autoCover = true
  showLastUpdated = false
  showLanguageSelector = false
  themeColor = "green"

[languages]
  [languages.en]
    languageName = "English"
    title = "Tech Blog"

    [languages.en.params]
      subtitle       = "appsec // prodsec // devsecops // ai security"
      owner          = ""
      keywords       = "security, appsec, prodsec, devsecops, ai-security, blog"
      copyright      = ""
      menuMore       = "Show more"
      readMore       = "Read more"
      readOtherPosts = "Read other posts"
      newerPosts     = "Newer posts"
      olderPosts     = "Older posts"
      missingContentMessage    = "Page not found..."
      missingBackButtonLabel   = "Back to home page"
      minuteReadingTime        = "min read"
      words                    = "words"

    [languages.en.params.logo]
      logoText     = "tech-blog $"
      logoHomeLink = "/"

    [[languages.en.menu.main]]
      identifier = "blog"
      name       = "Blog"
      url        = "/posts"
      weight     = 1

    [[languages.en.menu.main]]
      identifier = "projects"
      name       = "Projects"
      url        = "/projects"
      weight     = 2

    [[languages.en.menu.main]]
      identifier = "about"
      name       = "About"
      url        = "/about"
      weight     = 3
```

**Step 5: Verify the site builds**

Run: `hugo`
Expected: Build succeeds with no errors

**Step 6: Commit**

```bash
git add config.toml go.mod go.sum
git commit -m "feat: configure Terminal theme via Hugo module"
```

---

### Task 4: Create About Page

**Files:**
- Create: `content/about.md`

**Step 1: Create the About page**

Create `content/about.md`:

```markdown
+++
title = "About"
date = "2026-02-20"
+++

Welcome to my tech blog. I write about application security, product security, DevSecOps, and AI security.

## Topics I Cover

- **AppSec** - Application security testing, secure code review, vulnerability research
- **ProdSec** - Product security engineering, threat modeling, security architecture
- **DevSecOps** - Security automation, CI/CD pipeline security, infrastructure as code
- **AI Security** - LLM security, prompt injection, AI/ML threat landscape
```

**Step 2: Verify it renders**

Run: `hugo server -D` and visit http://localhost:1313/about
Expected: About page renders with the content above

**Step 3: Commit**

```bash
git add content/about.md
git commit -m "feat: add About page"
```

---

### Task 5: Create Projects Section with Custom Layout

**Files:**
- Create: `content/projects/_index.md`
- Create: `content/projects/example-project.md`
- Create: `layouts/projects/list.html`

**Step 1: Create the projects list layout**

The Terminal theme only supports one content type. We override the list template for the projects section.

Create `layouts/projects/list.html`:

```html
{{ define "main" }}
  <div class="posts">
    <h1>Projects</h1>
    {{ range .Pages }}
      <article class="post on-list">
        <h1 class="post-title">
          <a href="{{ .Params.url | default .RelPermalink }}">{{ .Title }}</a>
        </h1>
        <div class="post-content">
          {{ .Summary }}
        </div>
        {{ with .Params.tags }}
          <div>
            {{ range . }}
              <span class="post-tag">#{{ . }}</span>
            {{ end }}
          </div>
        {{ end }}
      </article>
    {{ end }}
  </div>
{{ end }}
```

**Step 2: Create the projects index page**

Create `content/projects/_index.md`:

```markdown
+++
title = "Projects"
+++
```

**Step 3: Create an example project**

Create `content/projects/example-project.md`:

```markdown
+++
title = "Example Project"
date = "2026-02-20"
tags = ["appsec", "tooling"]
url = ""
+++

A brief description of the project. Replace this with your actual project details, what it does, and what technologies it uses.

<!--more-->

## Details

- **Language:** Python
- **Purpose:** Demonstrate the projects section
- **Status:** In progress
```

**Step 4: Verify it renders**

Run: `hugo server -D` and visit http://localhost:1313/projects
Expected: Projects list page renders with the example project

**Step 5: Commit**

```bash
git add layouts/projects/list.html content/projects/
git commit -m "feat: add Projects section with custom layout"
```

---

### Task 6: Create Example Blog Post

**Files:**
- Create: `content/posts/hello-world.md`

**Step 1: Create the post**

Create `content/posts/hello-world.md`:

```markdown
+++
title = "Hello World"
date = "2026-02-20"
tags = ["meta"]
+++

Welcome to my tech blog. I'll be writing about application security, product security, DevSecOps, and AI security topics here.

<!--more-->

Stay tuned for posts covering:

- Vulnerability research and secure code review
- Security automation and CI/CD pipeline hardening
- LLM security and AI threat modeling
- Tools and techniques for modern security engineering
```

**Step 2: Verify it renders**

Run: `hugo server -D` and visit http://localhost:1313/posts
Expected: Blog listing shows the hello world post. Clicking it shows the full content.

**Step 3: Commit**

```bash
git add content/posts/hello-world.md
git commit -m "feat: add hello world blog post"
```

---

### Task 7: Set Up GitHub Actions Deployment Workflow

**Files:**
- Create: `.github/workflows/deploy.yml`

**Step 1: Create the workflow file**

Create `.github/workflows/deploy.yml`:

```yaml
name: Deploy Hugo site to GitHub Pages

on:
  push:
    branches:
      - main
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: pages
  cancel-in-progress: false

defaults:
  run:
    shell: bash

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      HUGO_VERSION: "0.156.0"
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Setup Go
        uses: actions/setup-go@v5
        with:
          go-version: "1.24"
          cache: false

      - name: Setup Pages
        id: pages
        uses: actions/configure-pages@v5

      - name: Install Hugo Extended
        run: |
          wget -O ${{ runner.temp }}/hugo.deb https://github.com/gohugoio/hugo/releases/download/v${HUGO_VERSION}/hugo_extended_${HUGO_VERSION}_linux-amd64.deb
          sudo dpkg -i ${{ runner.temp }}/hugo.deb

      - name: Build site
        env:
          HUGO_CACHEDIR: ${{ runner.temp }}/hugo_cache
        run: |
          hugo \
            --gc \
            --minify \
            --baseURL "${{ steps.pages.outputs.base_url }}/"

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./public

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

**Step 2: Commit**

```bash
git add .github/workflows/deploy.yml
git commit -m "feat: add GitHub Actions workflow for Pages deployment"
```

---

### Task 8: Add .gitignore and Final Cleanup

**Files:**
- Create: `.gitignore`

**Step 1: Create .gitignore**

Create `.gitignore`:

```
public/
resources/
.hugo_build.lock
```

**Step 2: Do a full build to verify everything works**

Run: `hugo --gc --minify`
Expected: Build succeeds. Output shows pages generated for posts, projects, about, tags.

**Step 3: Commit**

```bash
git add .gitignore
git commit -m "feat: add .gitignore for Hugo build artifacts"
```

---

### Task 9: Create GitHub Repository and Push

**Files:**
- None (git remote operations)

**Step 1: Create the GitHub repo**

Run:
```bash
gh repo create tech-blog --public --source=. --remote=origin --push
```

Expected: Repo created on GitHub. Code pushed to main. GitHub Actions workflow triggers.

**Step 2: Enable GitHub Pages with Actions source**

Run:
```bash
gh api repos/{owner}/tech-blog/pages -X POST -f build_type=workflow -f source.branch=main -f source.path=/
```

Or do it manually: Go to repo Settings > Pages > Source > select "GitHub Actions"

**Step 3: Verify deployment**

Wait for the GitHub Actions workflow to complete, then visit the Pages URL shown in the workflow output.
